# How to Run Example

## Make sure you have a venv with connectome manipulator and its dependencies installed

Current state of the tool has a specific requirements like python=3.10.8 and its only tested in BBP supercomputer. So i suggest creating python3.10.8 venv and then install the manipulator.

# Allowed

"sel_src": "Mosaic_A",
        "sel_dest": {
            "node_set":"Mosaic_A",
            "mtype": [
              "L4_PC", 
              "L4_MC"
            ]
          }

# Not Allowed

1. Deleting all connections so that no edges left i.e. amount_pct=100
2. Giving node population name directly to sel_src value

To debug on salloc , after allocation run

. /etc/profile.d/modules.sh
unset MODULEPATH
. /gpfs/bbp.cscs.ch/ssd/apps/bsd/config/modules.sh
module purge
module load archive/2023-07 python-dev parquet-converters/0.8.0 py-mpi4py
source /gpfs/bbp.cscs.ch/project/proj112/home/kurban/christoph_paper/github/venv_3_10_8/bin/activate

and then call manipulator directly like this

connectome-manipulator -v manipulate-connectome manip_config.json --output-dir=/gpfs/bbp.cscs.ch/project/proj112/home/kurban/christoph_paper/github/forked/connectome-manipulator_forked/examples/remove_connections_test_circuit/output/example_circuit_Mosaic_A --convert-to-sonata --splits=1
